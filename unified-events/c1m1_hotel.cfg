; ############  DIRECTOR AND EVENT CHANGES  ###########
; =====================================================
; ==          DIRECTOR & EVENT MODIFICATION          ==
; ==       Modify director behaviour and events      ==
; =====================================================
; --- Call crash left elevator c1m1_hotel event (up floor)
; --- Create by CyberZoio
; --- https://github.com/cyberzoio
; =====================================================

add:
;relays
{
	"classname" 			"func_button"
	"origin" 			"2048 5695.9 2708.1"
	"spawnflags" 			"1024"
	"targetname" 			"crash_left_elevator_event_relay"
	"glow" 				"crash_left_elevator_buttom_prop"
	"sounds"			"11"
	"OnPressed" 			"crash_left_elevator_prop_buttom,StopGlowing,,0,-1"
	"OnPressed" 			"crash_left_elevator_prop_buttom,Skin,1,0,-1"
	"OnPressed" 			"crash_left_elevator_prop_buttom,Skin,0,1,-1"
	"OnPressed" 			"crash_left_elevator_vfx_spark,StartSpark,,1,-1"
	"OnPressed" 			"crash_left_elevator_vfx_shake,StartShake,,0.5,-1"
	"OnPressed" 			"crash_left_elevator_sfx_fall,PlaySound,,0,-1"
	"OnPressed" 			"crash_left_elevator_prop_arrow,Skin,1,0,-1"
	"OnPressed" 			"crash_left_elevator_prop_arrow,Skin,0,1,-1"
	"OnPressed" 			"crash_left_elevator_hint_msg,kill,0,0,-1"
	"OnPressed" 			"crash_left_elevator_event_relay,kill,,0,-1"
	"OnPressed" 			"director,ForcePanicEvent,,3,-1"
}
;objetos do cenario
{
	"origin" 			"2048 5695.9 2708.1"
	"targetname" 			"crash_left_elevator_prop_buttom"
	"solid" 			"6"
	"model" 			"models/props_equipment/elevator_buttons.mdl"
	"disableshadows" 		"1"
	"angles" 			"0 270 0"
	"classname" 			"prop_dynamic"
	"glowrange" 			"500"
	"glowstate"			"2"
}
modify:
{
	match:
	{
		"hammerid" 		"703667"
	}
	replace:
	{
		"targetname" 		"crash_left_elevator_prop_arrow"
	}
}
add:
;efeitos visuais
{
	"classname" 			"env_spark"
	"origin" 			"2048 5695.9 2708.1"
	"targetname" 			"crash_left_elevator_vfx_spark"
	"TrailLength" 			"1"
	"Magnitude" 			"1"
	"spawnflags" 			"128"
	"MaxDelay"			"2"
	"OnSpark"			"crash_left_elevator_vfx_flash,Toggle,,0,-1"

}
{
	"classname" 			"env_shake"
	"origin" 			"2048 5695.9 2708.1"
	"targetname" 			"crash_left_elevator_vfx_shake"
	"spawnflags" 			"1"
	"radius" 			"1000"
	"frequency" 			"250"
	"duration" 			"2"
	"amplitude" 			"4"
}
;efeitos sonoros
{
	"classname" 			"ambient_generic"
	"origin" 			"2048 5695.9 2708.1"
	"targetname" 			"crash_left_elevator_sfx_fall"
	"spawnflags" 			"16"
	"message" 			"plats/elevator_emergency_power_off_01.wav"
	"health" 			"10"
	"radius"			"1000"
}
;instrutor
{
	"classname" 			"env_instructor_hint"
	"targetname" 			"crash_left_elevator_hint_msg"
	"hint_target" 			"crash_left_elevator_prop_buttom"
	"hint_caption"			"Verifique se o elevador est√° funcionando"
	"hint_range" 			"500"
	"hint_auto_start" 		"1"
	"hint_icon_onscreen" 		"icon_button"
	"hint_icon_offscreen" 		"icon_alert"
	"hint_color" 			"255 255 255"
	"origin" 			"2048 5695.9 2708.1"
}

; =====================================================
; =====================================================
; --- Call right elevator c1m1_hotel event (down floor)
; --- Edit version by CyberZoio
; --- https://github.com/cyberzoio
; --- Original by Sky.cfg by: Electrik, JaneDoe, Visor, vintik
; --- https://github.com/Attano/Sky
; =====================================================

filter:
;iniciar elevador com as portas fechadas
{
	"hammerid" 			"1227763"
}
;remover botoes clonados do elevador
{
	"hammerid" 			"329945"
	"hammerid" 			"703659"
	"targetname" 			"elevbuttonoutsidefront"
}
add:
;relay
{
	"classname" 			"func_button"
	"origin" 			"2048 5695.9 2516.17"
	"spawnflags" 			"1024"
	"targetname" 			"call_right_elevator_event_relay"
	"glow" 				"call_right_elevator_prop_buttom"
	"sounds" 			"32"
	"OnPressed" 			"call_right_elevator_prop_buttom,StopGlowing,,0,-1"
	"OnPressed" 			"call_right_elevator_prop_buttom,Skin,1,0,-1"
	"OnPressed" 			"call_right_elevator_prop_buttom,Skin,0,24,-1"
	"OnPressed" 			"call_right_elevator_prop_arrow,Skin,1,0.5,-1"
	"OnPressed" 			"call_right_elevator_hint_msg,kill,0,0,-1"
	"OnPressed" 			"elevator_movement_sound,PlaySound,,2,-1"
	"OnPressed" 			"director,ForcePanicEvent,,2,-1"
	"OnPressed" 			"call_right_elevator_event_relay_2,Trigger,,20,-1"
	"OnPressed" 			"call_right_elevator_prop_arrow,Skin,0,24,-1"
	"OnPressed" 			"elevator_movement_sound,StopSound,,20,-1"
	"OnPressed" 			"elevator_stop_sound,PlaySound,,22,-1"
	"OnPressed" 			"sound_elevator_arrived,PlaySound,,24,-1"
	"OnPressed" 			"sound_elevator_arrived,StopSound,,30,-1"
	"OnPressed" 			"!activator,SpeakResponseConcept,PlayerMoveOn,25,-1"
	"OnPressed" 			"elevator_1_door1,Open,,25,-1"
	"OnPressed" 			"elevator_1_door2,Open,,25,-1"
	"OnPressed" 			"call_right_elevator_block_nav_1,UnblockNav,,25,-1"
	"OnPressed" 			"call_right_elevator_block_nav_2,UnblockNav,,25,-1"
	"OnPressed" 			"call_right_elevator_event_relay,kill,,0,-1"
}
;objetos do cenario
{
	"origin" 			"2048 5695.9 2516.17"
	"targetname" 			"call_right_elevator_prop_buttom"
	"solid" 			"6"
	"model" 			"models/props_equipment/elevator_buttons.mdl"
	"disableshadows" 		"1"
	"angles" 			"0 270 0"
	"classname" 			"prop_dynamic"
	"glowrange" 			"500"
	"glowstate"			"2"
}
modify:
{
	match:
	{
		"hammerid" 		"330225"
	}
	replace:
	{
		"targetname" 		"call_right_elevator_prop_arrow"
	}
}
add:
;bloqueio de nav
{
	"classname" 			"logic_auto"
	"OnMapSpawn" 			"call_right_elevator_block_nav_1,AddOutput,mins -104 -100 -96,0,-1"
	"OnMapSpawn" 			"call_right_elevator_block_nav_1,AddOutput,maxs 104 100 96,0,-1"
	"OnMapSpawn" 			"call_right_elevator_block_nav_1,AddOutput,solid 2,0,-1"
	"OnMapSpawn" 			"call_right_elevator_block_nav_1,BlockNav,,1,-1"
	"OnMapSpawn" 			"call_right_elevator_block_nav_2,AddOutput,mins -44 -12 -96,0,-1"
	"OnMapSpawn" 			"call_right_elevator_block_nav_2,AddOutput,maxs 44 12 96,0,-1"
	"OnMapSpawn" 			"call_right_elevator_block_nav_2,AddOutput,solid 2,0,-1"
	"OnMapSpawn" 			"call_right_elevator_block_nav_2,BlockNav,,1,-1"
}
{
	"classname" 			"func_nav_blocker"
	"origin" 			"2168 5813 2560"
	"targetname" 			"call_right_elevator_block_nav_1"
	"teamToBlock" 			"-1"
}
{
	"classname" 			"func_nav_blocker"
	"origin" 			"2164 5701 2560"
	"targetname" 			"call_right_elevator_block_nav_2"
	"teamToBlock" 			"-1"
}
;instrutor
{
	"classname" 			"env_instructor_hint"
	"targetname" 			"call_right_elevator_hint_msg"
	"hint_target" 			"call_right_elevator_prop_buttom"
	"hint_caption"			"Chame o elevador"
	"hint_range" 			"500"
	"hint_auto_start" 		"1"
	"hint_icon_onscreen" 		"icon_button"
	"hint_icon_offscreen" 		"icon_alert"
	"hint_color" 			"255 255 255"
	"origin" 			"2048 5695.9 2516.17"
}

; =====================================================
; =====================================================
; --- Lobby explosion c1m1_hotel event
; --- Edit version by CyberZoio
; --- https://github.com/cyberzoio
; --- Original by Sky.cfg by: Electrik, JaneDoe, Visor, vintik
; --- https://github.com/Attano/Sky
; =====================================================

add:
;relay
{
	"classname" 			"logic_auto"
	"OnMapSpawn" 			"explosive_lobby_event_trigger,addoutput,mins 0 0 0,0,-1"
	"OnMapSpawn" 			"explosive_lobby_event_trigger,addoutput,maxs 0 107 110,0,-1"
	"OnMapSpawn" 			"explosive_lobby_event_trigger,addoutput,solid 2,0,-1"
}
{
	"classname" 			"trigger_once"
	"targetname"			"explosive_lobby_event_trigger"
	"filtername"			"explosive_lobby_filter_surv"
	"spawnflags"			"1"
	"origin" 			"440 4467 1184"
	"OnTrigger" 			"explosive_lobby_hint_msg,kill,0,5,-1"
	"OnTrigger" 			"explosive_lobby_vfx_explosion,Explode,,5,-1"
	"OnTrigger" 			"explosive_lobby_trigger_hurt,Enable,,5,-1"
	"OnTrigger" 			"explosive_lobby_prop_glass,Break,,5,-1"
	"OnTrigger" 			"explosive_lobby_prop_brick,Break,,5,-1"
	"OnTrigger" 			"explosive_lobby_prop_barricadenew,Kill,,5,-1"
	"OnTrigger" 			"explosive_lobby_prop_barricadebreak,Enable,,5,-1"
	"OnTrigger" 			"explosive_lobby_sfx_explosion,PlaySound,,5,-1"
	"OnTrigger" 			"explosive_lobby_sfx_fire,PlaySound,,5,-1"
	"OnTrigger" 			"explosive_lobby_sfx_heart,PlaySound,,5,-1"
	"OnTrigger" 			"explosive_lobby_sfx_heart,FadeOut,1,6,-1"
	"OnTrigger" 			"explosive_lobby_vfx_shake,StartShake,,5,-1"
	"OnTrigger" 			"explosive_lobby_vfx_fire,Start,,5,-1"
	"OnTrigger" 			"explosive_lobby_vfx_barricadefire,Start,,5,-1"
	"OnTrigger" 			"explosive_lobby_vfx_slowmotion,Start,,5,-1"
	"OnTrigger" 			"explosive_lobby_vfx_slowmotion,Stop,,6.5,-1"
	"OnTrigger" 			"director,ForcePanicEvent,,6,-1"
	"OnTrigger" 			"explosive_lobby_event_trigger,kill,,0,-1"
}
;area de dano fisico
{
	"classname" 			"logic_auto"
	"OnMapSpawn" 			"explosive_lobby_trigger_hurt,addoutput,mins -100 -100 0,0,-1"
	"OnMapSpawn" 			"explosive_lobby_trigger_hurt,addoutput,maxs 150 150 130,0,-1"
	"OnMapSpawn" 			"explosive_lobby_trigger_hurt,addoutput,solid 2,0,-1"
}
{
	"classname" 			"trigger_hurt"
	"StartDisabled"			"1"
	"origin" 			"1190 4971 1184"
	"filtername"			"explosive_lobby_filter_surv"
	"targetname" 			"explosive_lobby_trigger_hurt"
	"spawnflags" 			"1"
	"damagetype" 			"8"
	"damagecap" 			"20"
	"damage" 			"2"
}
;filtro de time
{
	"classname" 			"filter_activator_team"
	"targetname" 			"explosive_lobby_filter_surv"
	"filterteam" 			"2"
	"Negated" 			"0"
}
;efeitos visuais
{
	"origin" 			"1219 5000 1200"
	"targetname" 			"explosive_lobby_vfx_explosion"
	"spawnflags" 			"0"
	"rendermode" 			"5"
	"iRadiusOverride" 		"500"
	"iMagnitude" 			"5000"
	"fireballsprite" 		"sprites/zerogxplode.spr"
	"classname" 			"env_explosion"
}
{
	"classname" 			"env_shake"
	"origin" 			"1219 5000 1200"
	"targetname" 			"explosive_lobby_vfx_shake"
	"spawnflags" 			"1"
	"radius" 			"3000"
	"frequency" 			"250"
	"duration" 			"2"
	"amplitude" 			"4"
}
{
	"classname" 			"func_timescale"
	"targetname" 			"explosive_lobby_vfx_slowmotion"
	"minBlendRate" 			"2"
	"desiredTimescale" 		"0.2"
	"blendDeltaMultiplier" 		"3.0"
	"acceleration" 			"0.05"
}
{
	"classname" 			"info_particle_system"
	"effect_name" 			"gas_explosion_main"
	"targetname" 			"explosive_lobby_vfx_fire"
	"origin" 			"1219 5000 1200"
}
{
	"classname" 			"info_particle_system"
	"effect_name" 			"env_fire_large_smoke"
	"targetname" 			"explosive_lobby_vfx_barricadefire"
	"origin" 			"1151 4907 1184"
}
{
	"classname" 			"info_particle_system"
	"effect_name" 			"env_fire_large_smoke"
	"targetname" 			"explosive_lobby_vfx_barricadefire"
	"origin" 			"1277 4907 1184"
}
{
	"classname" 			"info_particle_system"
	"effect_name" 			"env_fire_large_smoke"
	"targetname" 			"explosive_lobby_vfx_barricadefire"
	"origin" 			"1151 5152 1184"
}
{
	"classname" 			"info_particle_system"
	"effect_name" 			"env_fire_large_smoke"
	"targetname" 			"explosive_lobby_vfx_barricadefire"
	"origin" 			"1277 5152 1184"
}
;efeitos sonoros
{
	"classname" 			"ambient_generic"
	"message" 			"weapons/hegrenade/explode3.wav"
	"targetname" 			"explosive_lobby_sfx_explosion"
	"health" 			"10"
	"spawnflags" 			"16"
}
{
	"classname" 			"ambient_generic"
	"message" 			"ambient/nature/fire/fire_small1.wav"
	"targetname" 			"explosive_lobby_sfx_fire"
	"origin" 			"1219 5000 1200"
	"health" 			"10"
	"spawnflags" 			"16"
	"radius"			"1000"
}
}
{
	"classname" 			"ambient_generic"
	"message" 			"player/heartbeatloop.wav"
	"targetname" 			"explosive_lobby_sfx_heart"
	"health" 			"10"
	"spawnflags" 			"16"
}
;objetos do cenario
{
	"classname" 			"prop_physics"
	"angles" 			"0 2 0"
	"model" 			"models/props_industrial/brickpallets.mdl"
	"spawnflags" 			"1"
	"origin"		 	"1296 4831 1220"
	"disableshadows" 		"1"
	"targetname"			"explosive_lobby_prop_brick"
}
{
	"classname" 			"prop_physics"
	"angles" 			"0 266 0"
	"model" 			"models/props_industrial/brickpallets.mdl"
	"spawnflags" 			"1"
	"origin" 			"1216 4831 1220"
	"disableshadows" 		"1"
	"targetname"			"explosive_lobby_prop_brick"
}
{
	"classname" 			"prop_physics"
	"angles" 			"0 2 0"
	"model" 			"models/props_industrial/brickpallets.mdl"
	"spawnflags" 			"1"
	"origin" 			"1296 4831 1284"
	"disableshadows" 		"1"
	"targetname"			"explosive_lobby_prop_brick"
}
{
	"classname" 			"prop_physics"
	"angles" 			"0 266 0"
	"model" 			"models/props_industrial/brickpallets.mdl"
	"spawnflags" 			"1"
	"origin" 			"1216 4831 1284"
	"disableshadows" 		"1"
	"targetname"			"explosive_lobby_prop_brick"
}
{
	"origin" 			"1109 4839 1184"
	"angles" 			"0 152 0"
	"model"	 			"models/props_urban/oil_drum001.mdl"
	"classname"			"prop_physics"
	"disableshadows" 		"1"
	"spawnflags" 			"1"
}
{
	"origin" 			"1120 4835 1232"
	"angles" 			"0 3 0"
	"model"	 			"models/props_urban/oil_drum001.mdl"
	"classname"			"prop_physics"
	"disableshadows" 		"1"
	"spawnflags" 			"1"
}
{
	"origin" 			"1143 4830 1184"
	"angles" 			"0 147 0"
	"model"	 			"models/props_urban/oil_drum001.mdl"
	"classname"			"prop_physics"
	"disableshadows" 		"1"
	"spawnflags" 			"1"
}
{
	"origin" 			"1341 4679 1183"
	"angles" 			"0 -65 0"
	"model"	 			"models/props/cs_assault/handtruck.mdl"
	"classname"			"prop_physics"
	"disableshadows" 		"1"
	"targetname"			"explosive_lobby_prop_brick"
}
{
	"origin" 			"1207 4745 1184"
	"angles" 			"0 80 0"
	"model"	 			"models/props_interiors/sawhorse.mdl"
	"classname"			"prop_physics"
	"disableshadows" 		"1"
	"spawnflags" 			"1"
}
{
	"origin" 			"1106 4779 1184"
	"angles" 			"0 68 0"
	"model"	 			"models/props_interiors/sawhorse.mdl"
	"classname"			"prop_physics"
	"disableshadows" 		"1"
	"spawnflags" 			"1"
}
{
	"origin" 			"1158 4659 1195"
	"angles" 			"0 8 0"
	"model"	 			"models/props_junk/wood_pallet001a.mdl"
	"classname"			"prop_physics"
	"disableshadows" 		"1"
	"spawnflags" 			"1"
}
{
	"origin" 			"1158 4664 1188"
	"angles" 			"0 89 0"
	"model"	 			"models/props_junk/wood_pallet001a.mdl"
	"classname"			"prop_physics"
	"disableshadows" 		"1"
	"spawnflags" 			"1"
}
{
	"solid" 			"6"
	"origin" 			"764 4712 1184"
	"angles" 			"0 91 0"
	"model"	 			"models/props_equipment/scaffolding_norails.mdl"
	"classname"			"prop_dynamic"
	"disableshadows" 		"1"
}
{
	"solid" 			"6"
	"origin" 			"1007 4688 1184"
	"angles" 			"0 55 0"
	"model"	 			"models/c1_chargerexit/mall_rampbundle.mdl"
	"classname"			"prop_dynamic"
	"disableshadows" 		"1"
}
{
	"solid" 			"6"
	"origin" 			"1151 4907 1184"
	"angles" 			"0 0 0"
	"model"	 			"models/props_unique/wooden_barricade.mdl"
	"classname"			"prop_dynamic"
	"targetname" 			"explosive_lobby_prop_barricadenew"
	"disableshadows" 		"1"
}
{
	"solid" 			"6"
	"origin" 			"1277 4907 1184"
	"angles" 			"0 0 0"
	"model"	 			"models/props_unique/wooden_barricade.mdl"
	"classname"			"prop_dynamic"
	"targetname" 			"explosive_lobby_prop_barricadenew"
	"disableshadows" 		"1"
}
{
	"solid" 			"6"
	"origin" 			"1151 5152 1184"
	"angles" 			"0 180 0"
	"model"	 			"models/props_unique/wooden_barricade.mdl"
	"classname"			"prop_dynamic"
	"targetname" 			"explosive_lobby_prop_barricadenew"
	"disableshadows" 		"1"
}
{
	"solid" 			"6"
	"origin" 			"1277 5152 1184"
	"angles" 			"0 180 0"
	"model"	 			"models/props_unique/wooden_barricade.mdl"
	"classname"			"prop_dynamic"
	"targetname" 			"explosive_lobby_prop_barricadenew"
	"disableshadows" 		"1"
}

{
	"solid" 			"6"
	"origin" 			"1151 4907 1184"
	"angles" 			"0 0 0"
	"model"				"models/props_unique/wooden_barricade_break2.mdl"
	"classname"			"prop_dynamic"
	"targetname" 			"explosive_lobby_prop_barricadebreak"
	"disableshadows" 		"1"
	"StartDisabled"			"1"
}
{
	"solid" 			"6"
	"origin" 			"1277 4907 1184"
	"angles" 			"0 0 0"
	"model"				"models/props_unique/wooden_barricade_break2.mdl"
	"classname"			"prop_dynamic"
	"targetname" 			"explosive_lobby_prop_barricadebreak"
	"disableshadows" 		"1"
	"StartDisabled"			"1"
}
{
	"solid" 			"6"
	"origin" 			"1151 5152 1184"
	"angles" 			"0 180 0"
	"model"				"models/props_unique/wooden_barricade_break2.mdl"
	"classname"			"prop_dynamic"
	"targetname" 			"explosive_lobby_prop_barricadebreak"
	"disableshadows" 		"1"
	"StartDisabled"			"1"
}
{
	"solid" 			"6"
	"origin" 			"1277 5152 1184"
	"angles" 			"0 180 0"
	"model"				"models/props_unique/wooden_barricade_break2.mdl"
	"classname"			"prop_dynamic"
	"targetname" 			"explosive_lobby_prop_barricadebreak"
	"disableshadows" 		"1"
	"StartDisabled"			"1"
}
modify:
{
	match:
    	{
        	"hammerid" 		"4016990"
    	}
    	insert:
    	{
        	"targetname" 		"explosive_lobby_prop_glass"
    	}
}
{
	match:
    	{
        	"hammerid" 		"4016979"
    	}
    	insert:
    	{
        	"targetname" 		"explosive_lobby_prop_glass"
    	}
}
{
	match:
    	{
        	"hammerid"		"4016995"
    	}
    	insert:
    	{
        	"targetname" 		"explosive_lobby_prop_glass"
    	}
}
{
	match:
    	{
        	"hammerid" 		"4017003"
    	}
    	insert:
    	{
        	"targetname" 		"explosive_lobby_prop_glass"
    	}
}
{
	match:
    	{
        	"hammerid" 		"4017011"
    	}
    	insert:
    	{
        	"targetname" 		"explosive_lobby_prop_glass"
    	}
}
;instrutor
add:
{
	"classname" 			"env_instructor_hint"
	"targetname" 			"explosive_lobby_hint_msg"
	"hint_target" 			"explosive_lobby_hint_target"
	"hint_caption"			"Cuidado!!!"
	"hint_range" 			"500"
	"hint_auto_start" 		"1"
	"hint_icon_onscreen" 		"icon_alert_red"
	"hint_icon_offscreen" 		"icon_alert"
	"hint_color" 			"255 255 255"
	"origin" 			"1213 4767 1232"
}
{
	"origin" 			"1213 4767 1232"
	"targetname" 			"explosive_lobby_hint_target"
	"spawnflags" 			"2"
	"classname" 			"info_target"
}

; =====================================================
; =====================================================
; --- remove camera intro + add c1m1_hotel rain and soundscapes (fix loop rain sounscape on restart map)
; --- Create by CyberZoio
; --- https://github.com/cyberzoio
; =====================================================

filter:
;relays
{
	"hammerid" 			"4609978"
}
add:
{
	"targetname" 			"relay_intro_start"
	"spawnflags" 			"0"
	"classname" 			"logic_relay"
	;"OnTrigger" 			"directorForceSurvivorPositions0-1"
	"OnTrigger" 			"fade_introFade0-1"
	"OnTrigger" 			"relay_intro_setupTrigger0-1"
	"OnTrigger" 			"ghostanim_introSetAnimationc1m1_intro2-1"
	"OnTrigger"			"lcs_introStart2-1"
	"OnTrigger" 			"relay_intro_survivor_camerasTrigger14-1"
	"OnTrigger" 			"rescue_chopperSetAnimationc1m1_intro_chopper2-1"
	;"OnTrigger" 			"directorStartIntro0-1"
	"OnTrigger" 			"sound_chopperleavePlaySound2-1"
	"OnTrigger" 			"fx_introEnable2-1"
	"OnTrigger" 			"fx_introKill13.9-1"
}
{
	"classname" 			"logic_auto"
	"targetname"			"weather_relay_event"
	"OnMapSpawn" 			"weather_timer_storm,Enable,,0,-1"
	"OnMapSpawn" 			"weather_vfx_rain,Alpha,255,0,-1"
	"OnMapSpawn" 			"orator,SpeakResponseConcept,c4m1_raining,45,-1"
}
{
	"classname" 			"logic_versus_random"
	"targetname" 			"weather_ramdom_storm"
	"OnRandom01" 			"weather_sfx_storm1,PlaySound,,0,-1"
	"OnRandom02" 			"weather_sfx_storm2,PlaySound,,0,-1"
	"OnRandom03" 			"weather_sfx_storm3,PlaySound,,0,-1"
	"OnRandom04" 			"weather_sfx_storm4,PlaySound,,0,-1"
	"OnRandom05" 			"weather_sfx_storm5,PlaySound,,0,-1"
	"OnRandom06" 			"weather_sfx_storm6,PlaySound,,0,-1"
	"OnRandom07" 			"weather_sfx_storm7,PlaySound,,0,-1"
}
;temporizador
{
	"targetname" 			"weather_timer_storm"
	"StartDisabled" 		"1"
	"spawnflags" 			"0"
	"UseRandomTime" 		"1"
	"LowerRandomBound" 		"0"
	"UpperRandomBound" 		"60"
	"classname" 			"logic_timer"
	"OnTimer " 			"weather_ramdom_storm,PickRandom,,0,-1"	
}
;efeitos visuais
{
	"classname" 			"func_precipitation"
	"targetname" 			"weather_vfx_rain"
    	"preciptype" 			"6"
	"model" 			"*79"
	"rendercolor" 			"31 34 52"
	"minSpeed" 			"25"
	"maxSpeed" 			"35"
	"renderamt" 			"0"
}

;efeitos sonoros
{
	"classname" 			"ambient_generic"
	"health" 			"10"
	"message" 			"ambient/ambience/rainscapes/thunder_close01.wav"
	"spawnflags" 			"16"
	"targetname" 			"weather_sfx_storm1"
}
{
	"classname" 			"ambient_generic"
	"health" 			"10"
	"message" 			"ambient/ambience/rainscapes/thunder_close02.wav"
	"spawnflags" 			"16"
	"targetname" 			"weather_sfx_storm2"
}
{
	"classname" 			"ambient_generic"
	"health" 			"10"
	"message" 			"ambient/ambience/thunder_close03.wav"
	"spawnflags" 			"16"
	"targetname" 			"weather_sfx_storm3"
}
{
	"classname" 			"ambient_generic"
	"health" 			"10"
	"message" 			"ambient/ambience/thunder_close04.wav"
	"spawnflags" 			"16"
	"targetname" 			"weather_sfx_storm4"
}
{
	"classname" 			"ambient_generic"
	"health" 			"10"
	"message" 			"ambient/ambience/rainscapes/thunder_distant01.wav"
	"spawnflags"	 		"16"
	"targetname" 			"weather_sfx_storm5"
}
{
	"classname" 			"ambient_generic"
	"health" 			"10"
	"message" 			"ambient/ambience/rainscapes/thunder_distant02.wav"
	"spawnflags" 			"16"
	"targetname" 			"weather_sfx_storm6"
}
{
	"classname" 			"ambient_generic"
	"health" 			"10"
	"message" 			"ambient/ambience/rainscapes/thunder_distant03.wav"
	"spawnflags" 			"16"
	"targetname" 			"weather_sfx_storm7"
}
modify:
{
	match:
	{
		"targetname" 		"c1m1.spawn"
	}
	replace:
	{
		"soundscape" 		"rain.hardsurface.hard"	
	}
}
{
	match:
	{
		"hammerid" 		"4614907"
	}
	replace:
	{
		"soundscape" 		"rain.interiorverb.hard"
	}
}
{
	match:
	{
		"targetname" 		"hotelroom.exterior.3rdfloor"
	}
	replace:
	{
		"soundscape" 		"rain.hardsurface.hard"
	}
}
{
	match:
	{
		"targetname" 		"hotelexterior.2ndfloor"
	}
	replace:
	{
		"soundscape" 		"rain.hardsurface.hard"
	}
}
{
	match:
	{
		"targetname" 		"hotelroom.exterior.2rdfloor"
	}
	replace:
	{
		"soundscape" 		"rain.hardsurface.hard"
	}
}
{
	match:
	{
		"targetname" 		"hotelroom.exterior.fire"
	}
	replace:
	{
		"soundscape" 		"rain.hardsurface.hard"
	}
}
{
	match:
	{
		"hammerid" 		"4614874"
	}
	replace:
	{
		"soundscape" 		"rain.water.hard"
	}
}
{
	match:
	{
		"hammerid" 		"4614896"
	}
	replace:
	{
		"soundscape" 		"rain.water.hard"	
	}
}
{
	match:
	{
		"hammerid"		"4614863"
	}
	replace:
	{
		"soundscape" 		"rain.interiorverb.hard"
	}
}

; =====================================================
; =====================================================
; --- Make railing in elevator solid so survivors can stand on it
; --- Create by SirPlease
; --- https://github.com/SirPlease/L4D2-Competitive-Rework/
; =====================================================

add:
{
	"classname" "env_physics_blocker"
	"origin" "2075 5834 2505"
	"mins" "-3 -71 -1"
	"maxs" "3 71 1"
	"initialstate" "1"
	"BlockType" "0"
	"parentname" "elevator_1"
}
{
	"classname" "env_physics_blocker"
	"origin" "2261 5834 2505"
	"mins" "-3 -71 -1"
	"maxs" "3 71 1"
	"initialstate" "1"
	"BlockType" "0"
	"parentname" "elevator_1"
}
{
	"classname" "env_physics_blocker"
	"origin" "2168 5902 2505"
	"mins" "-90 -3 -1"
	"maxs" "90 3 1"
	"initialstate" "1"
	"BlockType" "0"
	"parentname" "elevator_1"
}

; ################  ITEM SPAWN CHANGES  ###############
; =====================================================
; ==              STATIC AMMO & UPGRADES             ==
; ==          Add or modify ammo pile spawns         ==
; =====================================================

add:
{
	"solid" 			"6"
	"classname"			"weapon_ammo_spawn"
	"origin" 			"1828 6277 2656"
	"angles" 			"0 0 0"
	"spawnflags"			"2"
	"disableshadows"		"1"
	"model"	 			"models/props/terror/ammo_stack.mdl"
}
{
	"solid" 			"6"
	"classname"			"upgrade_laser_sight"
	"origin" 			"420 5788 2848"
	"angles" 			"0 225 0.00"
	"spawnflags"			"2"
	"disableshadows"		"1"
}
{
	"solid" 			"6"
	"classname"			"weapon_ammo_spawn"
	"origin" 			"428 5739 2857"
	"angles" 			"0 180 0"
	"spawnflags"			"2"
	"disableshadows"		"1"
	"model"	 			"models/props/terror/ammo_stack.mdl"
}
{
	"solid" 			"6"
	"classname"			"weapon_ammo_spawn"
	"origin" 			"2155 5361 2486"
	"angles" 			"0 0 0"
	"spawnflags"			"2"
	"disableshadows"		"1"
	"model"	 			"models/props/terror/ammo_stack.mdl"
}
{
	"solid" 			"6"
	"classname"			"weapon_ammo_spawn"
	"origin" 			"1626 5688 1184"
	"angles" 			"0 90 0"
	"spawnflags"			"2"
	"disableshadows"		"1"
	"model"	 			"models/props/terror/ammo_stack.mdl"
}

; =====================================================
; https://github.com/SirPlease/L4D2-Competitive-Rework/
; =====================================================
; #############  MAP CLIPPING AND ISSUES  #############
; =====================================================
; ==                 EXPLOITS BLOCKED                ==
; ==      Block intentionally performed exploits     ==
; =====================================================
add:
; --- Block standing on the pipe in the saferoom
{
	"classname" "env_physics_blocker"
	"origin" "398 5807 3008"
	"angles" "-30 0 0"
	"mins" "-5 -5 -16"
	"maxs" "5 5 16"
	"boxmins" "-5 -5 -16"
	"boxmaxs" "5 5 16"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block skipping the first floor from the balconies left of the saferoom exit
{
	"classname" "env_physics_blocker"
	"origin" "1612 6377 2652"
	"mins" "-36 -1 -196"
	"maxs" "36 1 196"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block skipping the first floor by dropping into the window by the elevator shaft
{
	"classname" "env_physics_blocker"
	"origin" "2357 5644 2630"
	"angles" "0 0 -50"
	"mins" "-5 -24 -14"
	"maxs" "5 24 14"
	"boxmins" "-5 -24 -14"
	"boxmaxs" "5 24 14"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_physics_blocker"
	"origin" "2357 5604 2630"
	"angles" "0 0 50"
	"mins" "-5 -24 -14"
	"maxs" "5 24 14"
	"boxmins" "-5 -24 -14"
	"boxmaxs" "5 24 14"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block dropping to the lower ledge from the first outside section
{
	"classname" "env_physics_blocker"
	"origin" "2384 6332 2532"
	"mins" "-128 -148 -70"
	"maxs" "128 148 70"
	"initialstate" "1"
	"BlockType" "1"
	"targetname" "lower_ledge_block"
}
{
	"classname" "env_physics_blocker"
	"origin" "2296 7080 2532"
	"mins" "-40 -600 -70"
	"maxs" "40 600 70"
	"initialstate" "1"
	"BlockType" "1"
	"targetname" "lower_ledge_block"
}
; --- Remove the block once survivors have opened the stairwell door
modify:
{
	match:
	{
		"hammerid" "570190"
	}
	insert:
	{
		"OnBreak" "lower_ledge_block,Kill,,0,-1"
		"OnOpen" "lower_ledge_block,Kill,,0,-1"
	}
}
add:
; --- Block survivors from standing on the awning above the check-in desk
{
	"classname" "env_physics_blocker"
	"origin" "720 4832 1444"
	"mins" "-216 -32 -124"
	"maxs" "216 32 124"
	"initialstate" "1"
	"BlockType" "1"
}

; =====================================================
; ==                  OUT OF BOUNDS                  ==
; ==  Block players getting outside / under the map  ==
; =====================================================
add:
; --- Block survivors getting on the roof in the first outside section
{
	"classname" "env_physics_blocker"
	"origin" "2360 6300 2908"
	"mins" "-88 -116 -60"
	"maxs" "88 116 60"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_physics_blocker"
	"origin" "2304 7048 2892"
	"mins" "-32 -632 -76"
	"maxs" "32 632 76"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block survivors getting out of the map through the windows by the end saferoom
{
	"classname" "env_physics_blocker"
	"origin" "1096 4660 1564"
	"mins" "-632 -220 -36"
	"maxs" "632 220 36"
	"initialstate" "1"
	"BlockType" "1"
}

; =====================================================
; ==                   STUCK SPOTS                   ==
; ==  Prevent players from getting stuck in the map  ==
; =====================================================
add:
; --- Block getting stuck on top of the suitcase pile just before the kitchen
{
	"classname" "env_physics_blocker"
	"origin" "494 5436 1264"
	"mins" "-46 -60 -80"
	"maxs" "46 60 80"
	"initialstate" "1"
	"BlockType" "0"
}
; --- Block getting stuck on top of the door barricade in the saferoom.
{
	"classname" "env_physics_blocker"
	"origin" "1953 4304 1264"
	"mins" "-45 -16 -48"
	"maxs" "45 16 48"
	"initialstate" "1"
	"BlockType" "0"
}
; --- Prevent getting stuck on top of the photocopier in the saferoom
{
	"classname" "env_physics_blocker"
	"origin" "2175 4543 1213"
	"mins" "-23 -17 -30"
	"maxs" "23 17 30"
	"initialstate" "1"
	"BlockType" "0"
}

; =====================================================
; ==                 NUISANCE CHANGES                ==
; ==      Clipping improvements, QOL map changes     ==
; =====================================================
; --- Prevent guns being thrown over the saferoom walls
add:
{
	"classname" "script_clip_vphysics"
	"origin" "393 5472 3234"
	"angles" "0 0 0"
	"extent" "8.5 84 350"
	"StartDisabled" "0"
}
{
	"classname" "script_clip_vphysics"
	"origin" "593 5397 3234"
	"angles" "0 0 0"
	"extent" "191.5 8.5 350"
	"StartDisabled" "0"
}
{
	"classname" "script_clip_vphysics"
	"origin" "776 5823 3234"
	"angles" "0 0 0"
	"extent" "8.5 417.5 350"
	"StartDisabled" "0"
}
{
	"classname" "script_clip_vphysics"
	"origin" "576 6232 3234"
	"angles" "0 0 0"
	"extent" "191.5 8.5 350"
	"StartDisabled" "0"
}
{
	"classname" "script_clip_vphysics"
	"origin" "393 6098 3234"
	"angles" "0 0 0"
	"extent" "8.5 125.5 350"
	"StartDisabled" "0"
}
{
	"classname" "script_clip_vphysics"
	"origin" "392 5764 3288"
	"angles" "0 0 0"
	"extent" "8.5 208 296"
	"StartDisabled" "0"
}

; =====================================================
