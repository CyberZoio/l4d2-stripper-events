; ############  DIRECTOR AND EVENT CHANGES  ###########
; =====================================================
; ==          DIRECTOR & EVENT MODIFICATION          ==
; ==       Modify director behaviour and events      ==
; =====================================================
; --- F18 bomber c1m2_hotel event
; --- Edit version by CyberZoio
; --- https://github.com/cyberzoio
; --- Original by Sky.cfg by: Electrik, JaneDoe, Visor, vintik 
; --- https://github.com/Attano/Sky
; =====================================================

;relays
add:
{
	"classname" 			"logic_auto"
	"OnMapSpawn" 			"f18_bomber_trigger_event,addoutput,mins 0 0 0,0,-1"
    	"OnMapSpawn" 			"f18_bomber_trigger_event,addoutput,maxs 850 0 500,0,-1"
    	"OnMapSpawn" 			"f18_bomber_trigger_event,addoutput,solid 2,0,-1"
}
{
	"classname" 			"trigger_once"
	"targetname" 			"f18_bomber_trigger_event"
	"filtername" 			"f18_bomber_filter_surv"
	"spawnflags" 			"1"
	"startdisabled" 		"0"
	"origin" 			"-2480 1400 0"
	"OnTrigger" 			"f18_bomber_prop_jet1,Enable,,0,-1"
	"OnTrigger" 			"f18_bomber_prop_jet2,Enable,,2,-1"
	"OnTrigger" 			"f18_bomber_prop_jet1,SetAnimation,flyby4,0,-1"
	"OnTrigger" 			"f18_bomber_prop_jet2,SetAnimation,flyby4,2,-1"
	"OnTrigger" 			"f18_bomber_prop_jet1,Disable,,10,-1"
	"OnTrigger" 			"f18_bomber_prop_jet2,Disable,,12,-1"
	"OnTrigger" 			"f18_bomber_sfx_jet1,PlaySound,,3,-1"
	"OnTrigger" 			"f18_bomber_sfx_jet2,PlaySound,,5,-1"
	"OnTrigger" 			"f18_bomber_sfx_rumble,PlaySound,,7,-1"
	"OnTrigger" 			"f18_bomber_vfx_slowmotion,Start,,6,-1"
	"OnTrigger" 			"f18_bomber_vfx_slowmotion,Stop,,9,-1"
	"OnTrigger" 			"f18_bomber_vfx_shake,StartShake,,3.5,-1"
	"OnTrigger" 			"f18_bomber_vfx_shake,StartShake,,5.5,-1"
	"OnTrigger" 			"orator,SpeakResponseConcept,C5M1Flyby,7,-1"
	"OnTrigger" 			"f18_bomber_relay_cars,Trigger,,6,-1"
}
{
	"classname" 			"logic_relay"
	"spawnflags" 			"0"
	"targetname" 			"f18_bomber_relay_cars"
	"OnTrigger" 			"f18_bomber_vfx_impact1,Impact,,0,-1"
	"OnTrigger" 			"f18_bomber_vfx_impact2,Impact,,1,-1"
	"OnTrigger" 			"f18_bomber_vfx_shake,StartShake,,0,-1"
	"OnTrigger" 			"f18_bomber_vfx_shake,StartShake,,1,-1"
	"OnTrigger" 			"f18_bomber_vfx_fire1,Start,,0,-1"
	"OnTrigger" 			"f18_bomber_vfx_fire2,Start,,1,-1"
	"OnTrigger" 			"f18_bomber_vfx_fire3,Start,,1.5,-1"
	"OnTrigger" 			"f18_bomber_sfx_explode1,PlaySound,,0,-1"
	"OnTrigger" 			"f18_bomber_sfx_explode2,PlaySound,,1,-1"
	"OnTrigger" 			"f18_bomber_sfx_explode3,PlaySound,,1.5,-1"
	"OnTrigger" 			"f18_bomber_sfx_heart,PlaySound,,0,-1"
	"OnTrigger" 			"f18_bomber_sfx_heart,FadeOut,1,3,-1"
	"OnTrigger" 			"f18_bomber_prop_tanker1,Disable,,1,-1"
	"OnTrigger" 			"f18_bomber_prop_tanker2,Enable,,0,-1"
	"OnTrigger" 			"f18_bomber_prop_tanker2,SetAnimation,debris,0,-1"
	"OnTrigger" 			"f18_bomber_prop_tanker3,SetAnimation,debris,0,-1"
	"OnTrigger" 			"f18_bomber_prop_tanker4,Disable,,1,-1"
	"OnTrigger" 			"AutoInstance1-cable04_8,Break,,0,-1"
	"OnTrigger" 			"AutoInstance1-cable03_8,Break,,0,-1"
	"OnTrigger" 			"AutoInstance1-cable02_8,Break,,0,-1"
	"OnTrigger" 			"AutoInstance1-cable01_8,Break,,0,-1"
	"OnTrigger" 			"f18_bomber_vfx_sparks1,StartSpark,,0,-1"
	"OnTrigger" 			"f18_bomber_vfx_sparks1,StopSpark,,2.2,-1"
	"OnTrigger" 			"f18_bomber_vfx_sparks2,StartSpark,,0.3,-1"
	"OnTrigger" 			"director,ForcePanicEvent,,5,-1"
}
;bloqueio de nav
{
	"classname" 			"func_nav_blocker"
	"origin"			"-1562 1743 131"
	"targetname" 			"f18_bomber_block_nav"
	"teamToBlock" 			"-1"
}
{
	"classname" 			"logic_auto"
	"OnMapSpawn" 			"f18_bomber_block_nav,mins -0 -256 -256,0,-1"
	"OnMapSpawn" 			"f18_bomber_block_nav,maxs 0 256 256,0,-1"
	"OnMapSpawn" 			"f18_bomber_block_nav,solid 2,0,-1"
	"OnMapSpawn" 			"f18_bomber_block_nav,BlockNav,,1,-1"
}
;filtro de time
{
	"classname" 			"filter_activator_team"
	"targetname" 			"f18_bomber_filter_surv"
	"filterteam" 			"2"
	"Negated" 			"0"
}
;efeitos sonoros
{
	"targetname" 			"f18_bomber_sfx_jet1"
	"spawnflags" 			"16"
	"message" 			"bridge.jetflyby01"
	"health" 			"10"
	"classname" 			"ambient_generic"
}
{
	"targetname" 			"f18_bomber_sfx_jet2"
	"spawnflags" 			"16"
	"message" 			"bridge.jetflyby02"
	"health" 			"10"
	"classname" 			"ambient_generic"
}
{
	"targetname" 			"f18_bomber_sfx_rumble"
	"spawnflags" 			"16"
	"message" 			"ambient/overhead/plane2.wav"
	"health" 			"10"
	"classname" 			"ambient_generic"
}
{
	"classname" 			"ambient_generic"
	"health" 			"10"
	"message" 			"player/heartbeatloop.wav"
	"spawnflags" 			"16"
	"targetname" 			"f18_bomber_sfx_heart"
}
{
	"classname" 			"ambient_generic"
	"health" 			"10"
	"message" 			"weapons/grenade_launcher/grenadefire/grenade_launcher_explode_2.wav"
	"spawnflags" 			"16"
	"targetname" 			"f18_bomber_sfx_explode1"
}
{
	"classname" 			"ambient_generic"
	"health" 			"10"
	"message" 			"weapons/hegrenade/explode5.wav"
	"spawnflags" 			"16"
	"targetname" 			"f18_bomber_sfx_explode2"
}
{
	"classname" 			"ambient_generic"
	"health" 			"10"
	"message" 			"weapons/hegrenade/explode4.wav"
	"spawnflags" 			"16"
	"targetname" 			"f18_bomber_sfx_explode3"
}
;efeitos visuais
{
	"classname" 			"func_timescale"
	"targetname" 			"f18_bomber_vfx_slowmotion"
	"minBlendRate" 			"2"
	"desiredTimescale" 		"0.2"
	"blendDeltaMultiplier" 		"3.0"
	"acceleration" 			"0.05"
}
{
	"classname" 			"env_shake"
	"origin" 			"-2221.372558 1838.638305 0"
	"targetname" 			"f18_bomber_vfx_shake"
	"spawnflags" 			"1"
	"radius" 			"3000"
	"frequency" 			"250"
	"duration" 			"2"
	"amplitude" 			"4"
}
{
	"classname" 			"env_spark"
	"Magnitude" 			"2"
	"spawnflags" 			"128"
	"MaxDelay" 			"0"
	"targetname" 			"f18_bomber_vfx_sparks1"
	"TrailLength" 			"3"
	"origin" 			"-1579 2357 745"
}
{
	"classname" 			"env_spark"
	"Magnitude" 			"2"
	"MaxDelay" 			"0"
	"spawnflags" 			"128"
	"targetname" 			"f18_bomber_vfx_sparks1"
	"TrailLength" 			"3"
	"origin" 			"-1582 2379 745"
}
{
	"classname" 			"env_spark"
	"Magnitude" 			"2"
	"MaxDelay" 			"0"
	"spawnflags" 			"128"
	"targetname" 			"f18_bomber_vfx_sparks1"
	"TrailLength" 			"3"
	"origin" 			"-1580 2450 745"
}
{
	"classname" 			"env_spark"
	"Magnitude" 			"2"
	"MaxDelay" 			"0"
	"spawnflags" 			"128"
	"targetname" 			"f18_bomber_vfx_sparks1"
	"TrailLength" 			"3"
	"origin" 			"-1583 2473 745"
}
{
	"classname" 			"env_spark"
	"Magnitude" 			"2"
	"MaxDelay" 			"3"
	"spawnflags" 			"128"
	"targetname" 			"f18_bomber_vfx_sparks2"
	"TrailLength" 			"3"
	"origin" 			"-2828 2356 730"
}
{
	"classname" 			"env_spark"
	"Magnitude" 			"2"
	"MaxDelay" 			"3"
	"spawnflags" 			"128"
	"targetname" 			"f18_bomber_vfx_sparks2"
	"TrailLength" 			"3"
	"origin" 			"-2832 2379 730"
}
{
	"classname" 			"env_spark"
	"Magnitude" 			"2"
	"MaxDelay" 			"3"
	"spawnflags" 			"128"
	"targetname" 			"f18_bomber_vfx_sparks2"
	"TrailLength" 			"3"
	"origin" 			"-2828 2450 730"
}
{
	"classname" 			"env_spark"
	"Magnitude" 			"2"
	"MaxDelay" 			"3"
	"spawnflags" 			"128"
	"targetname" 			"f18_bomber_vfx_sparks2"
	"TrailLength" 			"3"
	"origin" 			"-2832 2472 730"
}
{
	"classname" 			"info_particle_system"
	"effect_name" 			"gas_explosion_main"
	"targetname" 			"f18_bomber_vfx_fire1"
	"origin" 			"-1773 2573 289"
}
{
	"classname" 			"info_particle_system"
	"effect_name" 			"gas_explosion_main"
	"targetname" 			"f18_bomber_vfx_fire2"
	"origin" 			"-2960 2580 288"
}
{
	"classname" 			"info_particle_system"
	"effect_name" 			"gas_explosion_main"
	"targetname" 			"f18_bomber_vfx_fire3"
	"origin" 			"-2416 2551 284"
}
{
	"classname" 			"env_physimpact"
	"angles" 			"-60 -120 0"	
	"magnitude" 			"1000"
	"spawnflags" 			"5"
	"targetname" 			"f18_bomber_vfx_impact1"
	"origin" 			"-1413 2435 318"
	"distance"			"500"
}
{
	"classname" 			"env_physimpact"
	"angles" 			"-60 -90 0"
	"magnitude" 			"1000"
	"spawnflags" 			"5"
	"targetname" 			"f18_bomber_vfx_impact1"
	"origin" 			"-1981 2910 293"
	"distance"			"500"

}
{
	"classname" 			"env_physimpact"
	"angles" 			"-60 -90 0"
	"magnitude" 			"1000"
	"spawnflags" 			"5"
	"targetname" 			"f18_bomber_vfx_impact1"
	"origin" 			"-1788 2754 300"
	"distance"			"500"

}
{
	"classname" 			"env_physimpact"
	"angles" 			"-60 -120 0"
	"magnitude" 			"1000"
	"spawnflags" 			"5"
	"targetname" 			"f18_bomber_vfx_impact1"
	"origin" 			"-1405 2594 343"
	"distance"			"500"

}
{
	"classname" 			"env_physimpact"
	"angles" 			"-60 -60 0"
	"magnitude" 			"1000"
	"spawnflags" 			"5"
	"targetname" 			"f18_bomber_vfx_impact2"
	"origin" 			"-2566 2595 296"
	"distance"			"500"

}
{
	"classname" 			"env_physimpact"
	"angles" 			"-60 -60 0"
	"magnitude" 			"1000"
	"spawnflags" 			"5"
	"targetname" 			"f18_bomber_vfx_impact2"
	"origin" 			"-2870 2520 284"
	"distance"			"500"

}
{
	"classname" 			"env_physimpact"
	"angles" 			"-60 -90 0"
	"magnitude" 			"1000"
	"spawnflags" 			"5"
	"targetname" 			"f18_bomber_vfx_impact2"
	"origin" 			"-2367 2633 314"
	"distance"			"500"

}
{
	"classname" 			"env_physimpact"
	"angles" 			"-60 -60 0"
	"magnitude" 			"1000"
	"spawnflags" 			"5"
	"targetname" 			"f18_bomber_vfx_impact2"
	"origin" 			"-2647 2444 313"
	"distance"			"500"

}
;objetos de cenario
{
	"targetname" 			"f18_bomber_prop_jet1"
	"solid" 			"6"
	"origin" 			"-1800 2781 1300"
	"angles" 			"0 90 0"
	"model"	 			"models/f18/f18.mdl"
	"disableshadows" 		"1"
	"classname"			"prop_dynamic"
	"StartDisabled" 		"1"
}
{
	"targetname" 			"f18_bomber_prop_jet2"
	"solid" 			"6"
	"origin" 			"-2900 2781 1300"
	"angles" 			"0 90 0"
	"model"	 			"models/f18/f18.mdl"
	"disableshadows" 		"1"
	"classname"			"prop_dynamic"
	"StartDisabled" 		"1"
}
{
	"classname" 			"prop_dynamic"
	"angles" 			"0 90 -1.5"
	"model" 			"models/destruction_tanker/pre_destruction_tanker_trailer.mdl"
	"solid" 			"6"
	"spawnflags" 			"0"
	"targetname" 			"f18_bomber_prop_tanker1"
	"origin" 			"-1748.11 2503.71 296.186"
}
{
	"classname" 			"prop_dynamic"
	"angles" 			"0 90 -1.5"
	"model" 			"models/destruction_tanker/destruction_tanker_rear.mdl"
	"solid" 			"6"
	"spawnflags" 			"0"
	"StartDisabled" 		"1"
	"targetname" 			"f18_bomber_prop_tanker2"
	"origin" 			"-1725.12 2503.71 297"
}
{
	"classname" 			"prop_dynamic"
	"angles" 			"0 90 -1.5"
	"model" 			"models/destruction_tanker/destruction_tanker_front.mdl"
	"solid" 			"6"
	"spawnflags" 			"0"
	"StartDisabled" 		"0"
	"targetname" 			"f18_bomber_prop_tanker3"
	"origin" 			"-1748.11 2504 296.186"
}
{
	"classname" 			"prop_dynamic"
	"angles" 			"0 90 -1.5"
	"model" 			"models/props_vehicles/longnose_truck_glass.mdl"
	"solid" 			"6"
	"spawnflags" 			"0"
	"targetname" 			"f18_bomber_prop_tanker4"
	"origin" 			"-2068 2503.71 287.809"
}
{
	"classname" 			"prop_physics"
	"angles" 			"0 345 0"
	"model" 			"models/props_vehicles/cara_82hatchback_wrecked.mdl"
	"rendercolor" 			"64 0 0"
	"spawnflags" 			"256"
	"targetname" 			"f18_bomber_prop_car1"
	"origin" 			"-1413 2435 318"
	"disableshadows" 		"1"
}
{
	"classname" 			"prop_dynamic"
	"angles" 			"0 345 0"
	"model" 			"models/props_vehicles/cara_82hatchback_wrecked_glass.mdl"
	"parentname" 			"f18_bomber_prop_car1"
	"solid" 			"6"
	"origin" 			"-1413 2435 318"
	"disableshadows" 		"1"
}
{
	"classname" 			"prop_physics"
	"angles" 			"0 345 0"
	"model" 			"models/props_vehicles/cara_82hatchback_wrecked.mdl"
	"rendercolor" 			"64 64 0"
	"spawnflags" 			"256"
	"targetname" 			"f18_bomber_prop_car2"
	"origin" 			"-2566 2595 296"
	"disableshadows" 		"1"
}
{
	"classname" 			"prop_dynamic"
	"angles" 			"0 345 0"
	"model" 			"models/props_vehicles/cara_82hatchback_wrecked_glass.mdl"
	"parentname" 			"f18_bomber_prop_car2"
	"solid" 			"6"
	"origin" 			"-2566 2595 296"
	"disableshadows" 		"1"
}
{
	"classname" 			"prop_physics"
	"angles" 			"0 0 0"
	"model" 			"models/props_vehicles/cara_95sedan_wrecked.mdl"
	"rendercolor" 			"0 0 0"
	"spawnflags" 			"256"
	"targetname" 			"f18_bomber_prop_car3"
	"origin" 			"-1981 2910 293"
	"disableshadows" 		"1"
}
{
	"classname" 			"prop_dynamic"
	"angles" 			"0 0 0"
	"model" 			"models/props_vehicles/cara_95sedan_wrecked_glass.mdl"
	"parentname" 			"f18_bomber_prop_car3"
	"solid" 			"6"
	"origin" 			"-1981 2910 293"
	"disableshadows" 		"1"
}
{
	"classname" 			"prop_physics"
	"angles" 			"0 255 0"
	"model" 			"models/props_vehicles/cara_82hatchback_wrecked.mdl"
	"rendercolor" 			"64 64 64"
	"spawnflags" 			"256"
	"targetname" 			"f18_bomber_prop_car4"
	"origin" 			"-1788 2754 300"
	"disableshadows" 		"1"
}
{
	"classname" 			"prop_dynamic"
	"angles" 			"0 255 0"
	"model" 			"models/props_vehicles/cara_82hatchback_wrecked_glass.mdl"
	"parentname" 			"f18_bomber_prop_car4"
	"solid" 			"6"
	"origin" 			"-1788 2754 300"
	"disableshadows" 		"1"
}
{
	"classname" 			"prop_physics"
	"angles" 			"0 255 0"
	"model" 			"models/props_vehicles/cara_82hatchback_wrecked.mdl"
	"rendercolor" 			"0 0 64"
	"spawnflags" 			"256"
	"targetname" 			"f18_bomber_prop_car5"
	"origin" 			"-1405 2594 343"
	"disableshadows" 		"1"
}
{
	"classname" 			"prop_dynamic"
	"angles" 			"0 255 0"
	"model" 			"models/props_vehicles/cara_82hatchback_wrecked_glass.mdl"
	"parentname" 			"f18_bomber_prop_car5"
	"solid" 			"6"
	"origin" 			"-1405 2594 343"
	"disableshadows" 		"1"
}
{
	"classname" 			"prop_physics"
	"angles" 			"0 30 0"
	"model" 			"models/props_vehicles/suv_2001.mdl"
	"rendercolor" 			"0 64 64"
	"spawnflags" 			"256"
	"targetname" 			"f18_bomber_prop_car6"
	"origin" 			"-2870 2520 284"
	"disableshadows" 		"1"
}
{
	"classname" 			"prop_dynamic"
	"angles" 			"0 30 0"
	"model" 			"models/props_vehicles/suv_2001_glass.mdl"
	"parentname" 			"f18_bomber_prop_car6"
	"solid" 			"6"
	"origin" 			"-2870 2520 284"
	"disableshadows" 		"1"
}
{
	"classname" 			"prop_physics"
	"angles" 			"0 170 0"
	"model" 			"models/props_vehicles/cara_95sedan_wrecked.mdl"
	"rendercolor" 			"64 0 64"
	"spawnflags" 			"256"
	"targetname" 			"f18_bomber_prop_car7"
	"origin" 			"-2367 2633 314"
	"disableshadows" 		"1"
}
{
	"classname" 			"prop_dynamic"
	"angles" 			"0 170 0"
	"model" 			"models/props_vehicles/cara_95sedan_wrecked_glass.mdl"
	"parentname" 			"f18_bomber_prop_car7"
	"solid" 			"6"
	"origin" 			"-2367 2633 314"
	"disableshadows" 		"1"
}
{
	"classname" 			"prop_physics"
	"angles" 			"0 289 0"
	"model" 			"models/props_vehicles/cara_95sedan_wrecked.mdl"
	"rendercolor" 			"0 0 0"
	"spawnflags" 			"256"
	"targetname" 			"f18_bomber_prop_car8"
	"origin" 			"-2647 2444 313"
	"disableshadows" 		"1"
}
{
	"classname" 			"prop_dynamic"
	"angles" 			"0 289 0"
	"model" 			"models/props_vehicles/cara_95sedan_wrecked_glass.mdl"
	"parentname" 			"f18_bomber_prop_car8"
	"solid" 			"6"
	"origin" 			"-2647 2444 313"
	"disableshadows" 		"1"
}
{
	"solid" 			"6"
	"origin" 			"-1592 1866 30"
	"angles" 			"0 91 0"
	"model"	 			"models/props_wasteland/rock_cliff01.mdl"
	"classname"			"prop_dynamic"
	"disableshadows" 		"1"
}
{
	"solid" 			"6"
	"origin" 			"-1214 2567 316"
	"angles" 			"0 74 0"
	"model"	 			"models/props_vehicles/bus01.mdl"
	"classname"			"prop_dynamic"
	"disableshadows" 		"1"
}
{
	"solid" 			"6"
	"origin" 			"-1369 2919 310"
	"angles" 			"0 57 0"
	"model"	 			"models/props_trailers/trailer_small01.mdl"
	"classname"			"prop_dynamic"
	"disableshadows" 		"1"
}
;remover objetos de cenario
filter:
{
	"hammerid" 			"1709282"
}
{
	"hammerid" 			"1709321"
}

; =====================================================
; =====================================================
; --- Enable the 2 alarm cars after the event
; --- Create by SirPlease
; --- https://github.com/SirPlease/L4D2-Competitive-Rework/
; =====================================================

;relays
modify:
{
	match:
	{
		"targetname" 		"branch_caralarm-car1_alarm"
	}
	replace:
	{
		"OnTrue" 		"relay_caralarm_on-car1_alarm,Trigger,,0,-1"
	}
}
{
	match:
	{
		"targetname" 		"branch_caralarm-car2_alarm"
	}
	replace:
	{
		"OnTrue" 		"relay_caralarm_on-car2_alarm,Trigger,,0,-1"
	}
}

; =====================================================
; =====================================================
; --- Slowmotion tanker explosion c1m2_streets cola event
; --- Create by Cyberzoio
; --- https://github.com/CyberZoio
; =====================================================

;relay
modify:
{
        match:
        {
		"hammerid" 		"1213806"
        }
        insert:
        {
		"OnTrigger" 		"slowmotion_tanker_explode,Start,,1,-1"
		"OnTrigger" 		"slowmotion_tanker_explode,Stop,,2.5,-1"
	}
}
;efeitos visuais
add:
{
	"classname" 			"func_timescale"
	"minBlendRate" 			"2"
	"desiredTimescale" 		"0.2"
	"blendDeltaMultiplier" 		"3.0"
	"acceleration" 			"0.05"
	"targetname" 			"slowmotion_tanker_explode"
}

; =====================================================
; =====================================================
; --- Ceda trailer extra survivor ladders c1m2_streets
; --- Create by Cyberzoio
; --- https://github.com/CyberZoio
; =====================================================

;escadas
modify:
{
	match:
	{
		;"model" 		"*208"
		"hammerid" 		"1448844"
	}
	replace:
	{
		"team" 			"0"
	}
}
{
	match:
	{
		;"model" 		"*16"
		"hammerid" 		"136629"
	}
	replace:
	{
		"team" 			"0"
	}
}
;objetos de cenario
add:
{
	"solid" 			"0"
	"origin" 			"-4273 2099 227"
	"angles" 			"360 0 180"
	"model"	 			"models/props_equipment/metalladder002.mdl"
	"classname"			"prop_dynamic"
        "disableshadows" 		"1"

}
{
	"solid" 			"0"
	"origin" 			"-4405 2156 313"
	"angles" 			"351 359 0"
	"model"	 			"models/props/de_train/ladderaluminium.mdl"
	"classname"			"prop_dynamic"
        "disableshadows" 		"1"
}

; =====================================================
; =====================================================
; --- Cola event open extra rooms c1m2_streets
; --- Create by Cyberzoio
; --- https://github.com/CyberZoio
; =====================================================

;remover objetos de cenario
filter:
{
	"hammerid" 			"187311"
}
{
	"hammerid" 			"187324"
}

; =====================================================
; =====================================================
; --- New saferrom layout c1m2_streets
; --- Create by Cyberzoio
; --- https://github.com/CyberZoio
; =====================================================
add:
;objetos de cenario
{
	"solid" 			"6"
	"origin" 			"-7214 -4767 424"
	"angles" 			"0 0 0"
	"model"	 			"models/props_unique/spawn_apartment/lantern.mdl"
	"classname"			"prop_dynamic"
	"disableshadows" 		"1"
}
{
	"solid" 			"6"
	"origin" 			"-7702 -4697 419"
	"angles" 			"0 0 0"
	"model"	 			"models/props_unique/spawn_apartment/lantern.mdl"
	"classname"			"prop_dynamic"
	"disableshadows" 		"1"
}
{
	"solid" 			"6"
	"origin" 			"-7306 -4609 384"
	"angles"	 		"0 270 0"
	"model"	 			"models/props_mall/mall_display_08.mdl"
	"classname"			"prop_dynamic"
	"disableshadows" 		"1"
}
{
	"solid" 			"6"
	"origin" 			"-7619 -4606 384"
	"angles" 			"0 270 0"
	"model"	 			"models/props_mall/mall_display_07.mdl"
	"classname"			"prop_dynamic"
	"disableshadows" 		"1"
}
{
	"solid" 			"6"
	"origin" 			"-7214 -4767 384"
	"angles" 			"0 0 0"
	"model"	 			"models/props_crates/static_crate_40.mdl"
	"classname"			"prop_dynamic"
	"disableshadows" 		"1"
}
;efeitos visuais
{
	"classname" 			"light_dynamic"
	"_light" 			"255 255 128 0"
	"brightness" 			"1"
	"distance" 			"200"
	"spawnflags" 			"0"
	"origin" 			"-7214 -4767 439"
}
{
	"classname" 			"light_dynamic"
	"_light" 			"255 255 128 0"
	"brightness" 			"1"
	"distance" 			"200"
	"spawnflags" 			"0"
	"origin" 			"-7702 -4697 434"
}

; =====================================================
; ################  ITEM SPAWN CHANGES  ###############
; =====================================================
; ==              STATIC AMMO & UPGRADES             ==
; ==          Add or modify ammo pile spawns         ==
; =====================================================

add:
{
	"solid" 			"6"
	"classname"			"upgrade_laser_sight"
	"origin" 			"2554 4951 492"
	"angles" 			"0 325 0"
	"spawnflags"			"2"
	"disableshadows"		"1"
}
{
	"solid" 			"6"
	"classname"			"weapon_ammo_spawn"
	"origin" 			"-8145 -818 384"
	"angles" 			"0 198 0"
	"spawnflags"			"2"
	"disableshadows"		"1"
	"model"	 			"models/props/terror/ammo_stack.mdl"
}
{
	"solid" 			"6"
	"classname"			"weapon_ammo_spawn"
	"origin" 			"1528.93 3298.78 576.03"
	"angles"			"0.00 113.95 0.00"
	"spawnflags"			"2"
	"disableshadows"		"1"
	"model"	 			"models/props/terror/ammo_stack.mdl"
}
{
	"solid" 			"6"
	"classname"			"weapon_ammo_spawn"
	"origin" 			"-969 3502 320"
	"angles" 			"0 139 0"
	"spawnflags"			"2"
	"disableshadows"		"1"
	"model"	 			"models/props/terror/ammo_stack.mdl"
}
{
	"solid" 			"6"
	"classname"			"weapon_ammo_spawn"
	"origin" 			"-2235 983 41"
	"angles" 			"0 268 0"
	"spawnflags"			"2"
	"disableshadows"		"1"
	"model"	 			"models/props/terror/ammo_stack.mdl"
}
{
	"solid" 			"6"
	"classname"			"weapon_ammo_spawn"
	"origin" 			"-5094 1090 384"
	"angles" 			"0 235 0"
	"spawnflags"			"2"
	"disableshadows"		"1"
	"model"	 			"models/props/terror/ammo_stack.mdl"
}

; =====================================================
; https://github.com/SirPlease/L4D2-Competitive-Rework/
; =====================================================
; #############  MAP CLIPPING AND ISSUES  #############
; =====================================================
; ==                 EXPLOITS BLOCKED                ==
; ==      Block intentionally performed exploits     ==
; =====================================================

add:
; --- Block survivors from standing on the truck at the start
{
	"classname" "env_physics_blocker"
	"origin" "1315 2486 1310"
	"mins" "-43 -44 -738"
	"maxs" "43 44 738"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_physics_blocker"
	"origin" "1160 2486 1388"
	"mins" "-112 -57 -660.5"
	"maxs" "112 57 660.5"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block climbing up the generator at the start
{
	"classname" "env_physics_blocker"
	"origin" "1533 2591 713"
	"mins" "-4 -5 -143"
	"maxs" "4 5 143"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block standing on the edge of the tent by the generator - Removed until angled clip bug is fixed (#34)
;{
;	"classname" "env_physics_blocker"
;	"origin" "1610 2682 1073"
;	"angles" "0 353.5 0"
;	"mins" "-3 -190.5 -399.5"
;	"maxs" "3 190.5 399.5"
;	"boxmins" "-3 -190.5 -399.5"
;	"boxmaxs" "3 190.5 399.5"
;	"initialstate" "1"
;	"BlockType" "1"
;}
; --- Block survivors from standing on the hedges on the first road
{
	"classname" "env_physics_blocker"
	"origin" "2656 3296 1376"
	"mins" "-416 -32 -672"
	"maxs" "416 32 672"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_physics_blocker"
	"origin" "2944 2752 1249"
	"mins" "-387.5 -24 -799.5"
	"maxs" "387.5 24 799.5"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_physics_blocker"
	"origin" "720 2752 1249"
	"mins" "-263.5 -24 -799.5"
	"maxs" "263.5 24 799.5"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_physics_blocker"
	"origin" "-19 2752 1222"
	"mins" "-257.5 -24 -826"
	"maxs" "257.5 24 826"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_physics_blocker"
	"origin" "-740 2752 1180"
	"mins" "-126.5 -24 -868"
	"maxs" "126.5 24 868"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block survivors from standing on the truck on the underpass
{
	"classname" "env_physics_blocker"
	"origin" "-2224 1155 737"
	"mins" "-44 -43 -738"
	"maxs" "44 43 738"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_physics_blocker"
	"origin" "-2224 1000 815"
	"mins" "-57 -112 -660.5"
	"maxs" "57 112 660.5"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block survivors from standing on the electrical box after the green dumpster drop
{
	"classname" "env_physics_blocker"
	"origin" "-3296 2287 848"
	"mins" "-48 -17 -624"
	"maxs" "48 17 624"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block climbing up the generators before the walkway
{
	"classname" "env_physics_blocker"
	"origin" "-4996 1632 483"
	"mins" "-4.5 -7 -98"
	"maxs" "4.5 7 98"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block standing on the highway sign after the one way drop
{
	"classname" "env_physics_blocker"
	"origin" "-4170 1288 927"
	"angles" "0 255 0"
	"mins" "-25 -140.5 -545"
	"maxs" "25 140.5 545"
	"boxmins" "-25 -140.5 -545"
	"boxmaxs" "25 140.5 545"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block jumping on the fence on the street before the walkway
{
	"classname" "env_physics_blocker"
	"origin" "-5580 368 976"
	"mins" "-20 -56 -496"
	"maxs" "20 56 496"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Remove traffic barrel that can be used to skip the chokepoint before the walkway
filter:
{
	"hammerid" "1719887"
}
add:
; --- Block standing behind/on the fence on the first set of walkway stairs
{
	"classname" "env_physics_blocker"
	"origin" "-5331 821 724"
	"mins" "-131 -5 -108"
	"maxs" "131 5 108"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block climbing up the 2 generators at the end
{
	"classname" "env_physics_blocker"
	"origin" "-8683 -3991 525"
	"mins" "-6.5 -7 -143"
	"maxs" "6.5 7 143"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_physics_blocker"
	"origin" "-7163 -4158 528"
	"mins" "-7 -5.5 -143"
	"maxs" "7 5.5 143"
	"initialstate" "1"
	"BlockType" "1"
}

; =====================================================
; ==                  OUT OF BOUNDS                  ==
; ==  Block players getting outside / under the map  ==
; =====================================================
add:
; --- Block players getting out of the map above the start saferoom
{
	"classname" "env_physics_blocker"
	"origin" "1792 7168 2096"
	"mins" "-2304 -1024 -208"
	"maxs" "2304 1024 208"
	"initialstate" "1"
	"BlockType" "0"
}
; --- Block infected going too far out of bounds at the back of the underpass street
{
	"classname" "env_physics_blocker"
	"origin" "-896 6176 896"
	"mins" "-896 -32 -576"
	"maxs" "896 32 576"
	"initialstate" "1"
	"BlockType" "2"
}

; =====================================================
; ==                   STUCK SPOTS                   ==
; ==  Prevent players from getting stuck in the map  ==
; =====================================================
add:
; --- Block getting stuck on top of the door barricade in the saferoom.
{
	"classname" "env_physics_blocker"
	"origin" "2224 5255 512"
	"mins" "-16 -57.5 -64.5"
	"maxs" "16 57.5 64.5"
	"initialstate" "1"
	"BlockType" "0"
}
; --- Prevent getting stuck on top of the photocopier in the saferoom
{
	"classname" "env_physics_blocker"
	"origin" "2543 5199 477"
	"mins" "-23 -17 -30"
	"maxs" "23 17 30"
	"initialstate" "1"
	"BlockType" "0"
}
; --- Prevent getting stuck on top of the photocopier in the Save 4 Less store
{
	"classname" "env_physics_blocker"
	"origin" "-6673 -2707 421"
	"mins" "-17 -24 -30"
	"maxs" "17 24 30"
	"initialstate" "1"
	"BlockType" "0"
}

; =====================================================
; ==                 NUISANCE CHANGES                ==
; ==      Clipping improvements, QOL map changes     ==
; =====================================================
add:
; --- Make trash bags solid at the start
{
	"classname" "prop_dynamic"
	"origin" "1976 4440 470"
	"angles" "3.99024 29.758 -6.93945"
	"model" "models/props_junk/trashcluster01b.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "1256 2554 578"
	"angles" "0.0 83.5 0.0"
	"model" "models/props_junk/trashcluster01b.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "1700 2880 578"
	"angles" "0.0 83.5 0.0"
	"model" "models/props_junk/trashcluster01b.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "1652 2510 582"
	"angles" "0.0 80 0.0"
	"model" "models/props_junk/trashcluster01b.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
; --- Make trash bags solid at the end
{
	"classname" "prop_dynamic"
	"origin" "-8384 -1818 391"
	"angles" "0.0 340 0.0"
	"model" "models/props_junk/trashcluster01b.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "-9086 -1992 391"
	"angles" "0.0 88 0.0"
	"model" "models/props_junk/trashcluster01b.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "-8012 -3600 395"
	"angles" "0.0 83.5 0.0"
	"model" "models/props_junk/trashcluster01b.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "-8088 -3556 391"
	"angles" "0.0 173.5 0.0"
	"model" "models/props_junk/trashcluster01b.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "-7760 -4560 391"
	"angles" "0.0 87.5 0.0"
	"model" "models/props_junk/trashcluster01b.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "-7294 -4566 391"
	"angles" "0.0 87.5 0.0"
	"model" "models/props_junk/trashcluster01b.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
; --- Highway sign by the CEDA van drop to show where the skybox blocks movement
{
	"classname" "prop_dynamic"
	"origin" "-4105 1996 383"
	"angles" "0 270 0"
	"model" "models/props_highway/highway_sign_post002.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "-4105 2014 678"
	"angles" "0 90 0"
	"model" "models/props_highway/highway_sign001b.mdl"
	"solid" "6"
	"disableshadows" "1"
}
; --- Allow ghost SI to pass through the Save 4 Less doors before they are open
modify:
{
	match:
	{
		"targetname" "store_door01_dynamic"
		"classname" "prop_dynamic"
	}
	insert:
	{
		"solid" "0"
	}
}
modify:
{
	match:
	{
		"targetname" "store_door02_dynamic"
		"classname" "prop_dynamic"
	}
	insert:
	{
		"solid" "0"
	}
}
add:
; --- Improved clipping on car stops in the event area
{
	"classname" "env_physics_blocker"
	"origin" "-6266 -1171 407"
	"mins" "-8 -49.5 -4.6"
	"maxs" "8 49.5 4.6"
	"initialstate" "1"
	"BlockType" "0"
}
{
	"classname" "env_physics_blocker"
	"origin" "-6268 -1354 397"
	"mins" "-6 -50 -4.6"
	"maxs" "6 50 4.6"
	"initialstate" "1"
	"BlockType" "0"
}
{
	"classname" "env_physics_blocker"
	"origin" "-6266 -1682 388"
	"mins" "-5.5 -49.5 -4.6"
	"maxs" "5.5 49.5 4.6"
	"initialstate" "1"
	"BlockType" "0"
}
{
	"classname" "env_physics_blocker"
	"origin" "-6263 -1828 397"
	"mins" "-5 -49.5 -4.6"
	"maxs" "5 49.5 4.6"
	"initialstate" "1"
	"BlockType" "0"
}
{
	"classname" "env_physics_blocker"
	"origin" "-6055 -2098 423"
	"mins" "-4.5 -49.5 -4"
	"maxs" "4.5 49.5 4"
	"initialstate" "1"
	"BlockType" "0"
}
{
	"classname" "env_physics_blocker"
	"origin" "-6055 -2232 427"
	"mins" "-4.5 -49.5 -5.5"
	"maxs" "4.5 49.5 5.5"
	"initialstate" "1"
	"BlockType" "0"
}
{
	"classname" "env_physics_blocker"
	"origin" "-6056 -2376 431"
	"mins" "-5 -49.5 -3"
	"maxs" "5 49.5 3"
	"initialstate" "1"
	"BlockType" "0"
}
{
	"classname" "env_physics_blocker"
	"origin" "-6053 -2522 429"
	"mins" "-5 -49.5 -3"
	"maxs" "5 49.5 3"
	"initialstate" "1"
	"BlockType" "0"
}
{
	"classname" "env_physics_blocker"
	"origin" "-6058 -2654 425"
	"mins" "-5 -49.5 -5"
	"maxs" "5 49.5 5"
	"initialstate" "1"
	"BlockType" "0"
}
{
	"classname" "env_physics_blocker"
	"origin" "-6057 -2789 420"
	"mins" "-5 -49.5 -4"
	"maxs" "5 49.5 4"
	"initialstate" "1"
	"BlockType" "0"
}
{
	"classname" "env_physics_blocker"
	"origin" "-6055 -2932 407"
	"angles" "0 0 8"
	"mins" "-5 -49 -4"
	"maxs" "5 49 4"
	"boxmins" "-5 -49 -4"
	"boxmaxs" "5 49 4"
	"initialstate" "1"
	"BlockType" "0"
}
; --- Block LOS under van by the stores
{
	"classname" "logic_auto"
	"OnMapSpawn" "los_save4less_van,AddOutput,mins -110 -1 -16,0,-1"
	"OnMapSpawn" "los_save4less_van,AddOutput,maxs 110 1 16,0,-1"
	"OnMapSpawn" "los_save4less_van,AddOutput,solid 2,0,-1"
}
{
	"classname" "func_brush"
	"origin" "-6356 -1539 396"
	"targetname" "los_save4less_van"
}
; --- Remove traffic barrel in the event area that block the police car
filter:
{
	"hammerid" "941213"
}
{
	"hammerid" "941217"
}
; --- Make traffic barrel by the exploding tanker movable
modify:
{
	match:
	{
		"hammerid" "841232"
	}
	replace:
	{
		"spawnflags" "260"
	}
}
; --- Fix a spot where cola can be thrown out of bounds
add:
{
	"classname" "script_clip_vphysics"
	"origin" "-5304 -2192 1108"
	"angles" "0 0 0"
	"extent" "24 16 364"
	"filtername" "cola_filter"
	"StartDisabled" "0"
}

; =====================================================

